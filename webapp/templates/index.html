{# This simple template derives from ``base.html``. See ``base.html`` for
   more information about template inheritance. #}
{%- extends "base.html" %}

{# Loads some of the macros included with Flask-Bootstrap. We are using the
   utils module here to automatically render Flask's flashed messages in a
   bootstrap friendly manner #}
{% import "bootstrap/utils.html" as utils %}


{# Inside the ``content`` is where you should place most of your own stuff.
   This will keep scripts at the page end and a navbar you add on later
   intact. #}
{% block content %}
  <!--<div class="container">-->
  <!--{%- with messages = get_flashed_messages(with_categories=True) %}-->
  <!--{%- if messages %}-->
    <!--<div class="row">-->
      <!--<div class="col-md-12">-->
        <!--{{utils.flashed_messages(messages)}}-->
      <!--</div>-->
    <!--</div>-->
  <!--{%- endif %}-->
  <!--{%- endwith %}-->
    <!--<div class="jumbotron">-->
      <!--<h1>Welcome to Flask-Bootstrap</h1>-->
      <!--<p>This example application demonstrates some (but not all!) of the-->
      <!--features of <a href="http://pythonhosted.org/Flask-Bootstrap">-->
      <!--Flask-Bootstrap</a>.</p>-->
      <!--<p>-->
        <!--<a class="btn btn-lg btn-default" role="button"-->
           <!--href="http://pythonhosted.org/Flask-Bootstrap" >Show docs</a>-->
      <!--</p>-->
    <!--</div>-->
      <div class="container">
    <div class="row">
        <!--<div class="col-sm-5">-->
            <h1>Analytics of GScholar Content</h1>
            <form role="form" method='POST' action='/'>
                <div class="form-group">
                    <input type="text" name="field_of_study" class="form-control" id="url-box"
                           placeholder="Enter Field of Study..." style="max-width: 300px;">
                </div>
                <button type="submit" class="btn btn-default">Submit</button>
            </form>
            <!--<br>-->
            {% for error in errors %}
            <h4>{{ error }}</h4>
            {% endfor %}
            <!--<br>-->
        <!--</div>-->
    </div>
    <div class="row">
        <!--<div class="col-sm-5">-->
            {% if results %}
            <h2>Authors -- <mark>{{ field_of_study }}</mark></h2>
            <div id="results">
                <table class="table table-striped" style="max-width: 900px;">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Fields of Study</th>
                        <th>Cited</th>
                        <th>Has Organization</th>
                        <th>Measures</th>
                        <th>Updated At</th>
                        <th>Created At</th>
                    </tr>
                    </thead>
                    {% for result in results %}
                    <tr>
                        <td>{{ result.name }}</td>
                        <td>{{ result.fields_of_study }}</td>
                        <td>{{ result.cited }}</td>
                        <td>{{ result.hasCo }}</td>
                        <td>{{ result.measures }}</td>
                        <td>{{ result.updated_at }}</td>
                        <td>{{ result.created_at }}</td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
            {% endif %}
        <!--</div>-->
    </div>
</div>
{%- endblock %}
